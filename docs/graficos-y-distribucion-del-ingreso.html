<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Capítulo 6 Gráficos y Distribución del Ingreso | Introducción a R para Ciencias Sociales. Aplicación practica en la EPH</title>
  <meta name="description" content="Capítulo 6 Gráficos y Distribución del Ingreso | Introducción a R para Ciencias Sociales. Aplicación practica en la EPH">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Capítulo 6 Gráficos y Distribución del Ingreso | Introducción a R para Ciencias Sociales. Aplicación practica en la EPH" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 6 Gráficos y Distribución del Ingreso | Introducción a R para Ciencias Sociales. Aplicación practica en la EPH" />
  
  
  

<meta name="author" content="Pablo Tiscornia - Guido Weksler - Diego Kozlowski - Natsumi Shokida.">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="calculo-de-pobreza-por-linea.html">
<link rel="next" href="pool-de-datos-en-panel-y-matrices-de-transicion.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introducción</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#presentacion"><i class="fa fa-check"></i><b>1.1</b> Presentación</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#objetivos-del-curso"><i class="fa fa-check"></i><b>1.2</b> Objetivos del curso</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#clases-y-contenido"><i class="fa fa-check"></i><b>1.3</b> Clases y contenido</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#librerias-a-instalar"><i class="fa fa-check"></i><b>1.4</b> Librerias a instalar</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="conceptos-principales-de-eph.html"><a href="conceptos-principales-de-eph.html"><i class="fa fa-check"></i><b>2</b> Conceptos Principales de EPH</a><ul>
<li class="chapter" data-level="2.1" data-path="conceptos-principales-de-eph.html"><a href="conceptos-principales-de-eph.html#que-es-la-eph"><i class="fa fa-check"></i><b>2.1</b> ¿Qué es la EPH?</a></li>
<li class="chapter" data-level="2.2" data-path="conceptos-principales-de-eph.html"><a href="conceptos-principales-de-eph.html#traduzcamos"><i class="fa fa-check"></i><b>2.2</b> Traduzcamos</a><ul>
<li class="chapter" data-level="2.2.1" data-path="conceptos-principales-de-eph.html"><a href="conceptos-principales-de-eph.html#objetivos-de-la-eph"><i class="fa fa-check"></i><b>2.2.1</b> Objetivos de la EPH</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="conceptos-principales-de-eph.html"><a href="conceptos-principales-de-eph.html#caracteristicas-de-la-eph"><i class="fa fa-check"></i><b>2.3</b> Características de la EPH</a></li>
<li class="chapter" data-level="2.4" data-path="conceptos-principales-de-eph.html"><a href="conceptos-principales-de-eph.html#la-muestra"><i class="fa fa-check"></i><b>2.4</b> La Muestra</a><ul>
<li class="chapter" data-level="2.4.1" data-path="conceptos-principales-de-eph.html"><a href="conceptos-principales-de-eph.html#principales-tematicas-abordadas-por-la-eph"><i class="fa fa-check"></i><b>2.4.1</b> Principales temáticas abordadas por la EPH</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="conceptos-principales-de-eph.html"><a href="conceptos-principales-de-eph.html#instrumento-de-medicion-el-medio-hacia-la-operacionalizacion-de-los-objetivos"><i class="fa fa-check"></i><b>2.5</b> Instrumento de medición: El medio hacia la operacionalización de los objetivos</a></li>
<li class="chapter" data-level="2.6" data-path="conceptos-principales-de-eph.html"><a href="conceptos-principales-de-eph.html#tres-cuestionarios"><i class="fa fa-check"></i><b>2.6</b> Tres cuestionarios</a><ul>
<li class="chapter" data-level="2.6.1" data-path="conceptos-principales-de-eph.html"><a href="conceptos-principales-de-eph.html#cuestionario-de-vivienda"><i class="fa fa-check"></i><b>2.6.1</b> Cuestionario de vivienda</a></li>
<li class="chapter" data-level="2.6.2" data-path="conceptos-principales-de-eph.html"><a href="conceptos-principales-de-eph.html#cuestionario-de-hogar"><i class="fa fa-check"></i><b>2.6.2</b> Cuestionario de hogar</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="conceptos-principales-de-eph.html"><a href="conceptos-principales-de-eph.html#marco-analitico-y-tematico-de-la-eph"><i class="fa fa-check"></i><b>2.7</b> Marco analítico y temático de la EPH</a><ul>
<li class="chapter" data-level="2.7.1" data-path="conceptos-principales-de-eph.html"><a href="conceptos-principales-de-eph.html#cuestionario-de-individuos"><i class="fa fa-check"></i><b>2.7.1</b> Cuestionario de individuos</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="conceptos-principales-de-eph.html"><a href="conceptos-principales-de-eph.html#cuestinario-individual-principales-indicadores"><i class="fa fa-check"></i><b>2.8</b> Cuestinario individual: Principales indicadores</a></li>
<li class="chapter" data-level="2.9" data-path="conceptos-principales-de-eph.html"><a href="conceptos-principales-de-eph.html#caracterizacion-de-la-poblacion-ocupada"><i class="fa fa-check"></i><b>2.9</b> Caracterización de la población ocupada</a><ul>
<li class="chapter" data-level="2.9.1" data-path="conceptos-principales-de-eph.html"><a href="conceptos-principales-de-eph.html#otros-indicadores-para-describir-a-la-poblacion-ocupada"><i class="fa fa-check"></i><b>2.9.1</b> Otros indicadores para describir a la población ocupada</a></li>
<li class="chapter" data-level="2.9.2" data-path="conceptos-principales-de-eph.html"><a href="conceptos-principales-de-eph.html#caracterizacion-de-la-poblacion-desocupada"><i class="fa fa-check"></i><b>2.9.2</b> Caracterízación de la población desocupada</a></li>
<li class="chapter" data-level="2.9.3" data-path="conceptos-principales-de-eph.html"><a href="conceptos-principales-de-eph.html#clasificadores-utilizados-en-la-eph-rama-de-actividad-y-tarea-ocupacion"><i class="fa fa-check"></i><b>2.9.3</b> Clasificadores utilizados en la EPH (Rama de actividad y Tarea / Ocupación)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduccion-a-r.html"><a href="introduccion-a-r.html"><i class="fa fa-check"></i><b>3</b> Introducción a R</a><ul>
<li class="chapter" data-level="3.0.1" data-path="introduccion-a-r.html"><a href="introduccion-a-r.html#que-es-r"><i class="fa fa-check"></i><b>3.0.1</b> ¿Que es R?</a></li>
<li class="chapter" data-level="3.0.2" data-path="introduccion-a-r.html"><a href="introduccion-a-r.html#diferencias-con-stata-y-spss"><i class="fa fa-check"></i><b>3.0.2</b> Diferencias con STATA y SPSS</a></li>
<li class="chapter" data-level="3.1" data-path="introduccion-a-r.html"><a href="introduccion-a-r.html#logica-sintactica."><i class="fa fa-check"></i><b>3.1</b> Lógica sintáctica.</a><ul>
<li class="chapter" data-level="3.1.1" data-path="introduccion-a-r.html"><a href="introduccion-a-r.html#definicion-de-objetos"><i class="fa fa-check"></i><b>3.1.1</b> Definición de objetos</a></li>
<li class="chapter" data-level="3.1.2" data-path="introduccion-a-r.html"><a href="introduccion-a-r.html#r-base"><i class="fa fa-check"></i><b>3.1.2</b> R base</a></li>
<li class="chapter" data-level="3.1.3" data-path="introduccion-a-r.html"><a href="introduccion-a-r.html#data-frames"><i class="fa fa-check"></i><b>3.1.3</b> Data Frames</a></li>
<li class="chapter" data-level="3.1.4" data-path="introduccion-a-r.html"><a href="introduccion-a-r.html#listas"><i class="fa fa-check"></i><b>3.1.4</b> Listas</a></li>
<li class="chapter" data-level="3.1.5" data-path="introduccion-a-r.html"><a href="introduccion-a-r.html#instalacion-de-paquetes-complementarios-al-r-base"><i class="fa fa-check"></i><b>3.1.5</b> Instalación de paquetes complementarios al R Base</a></li>
<li class="chapter" data-level="3.1.6" data-path="introduccion-a-r.html"><a href="introduccion-a-r.html#lectura-y-escritura-de-archivos"><i class="fa fa-check"></i><b>3.1.6</b> Lectura y escritura de archivos</a></li>
<li class="chapter" data-level="3.1.7" data-path="introduccion-a-r.html"><a href="introduccion-a-r.html#ambientes-de-trabajo"><i class="fa fa-check"></i><b>3.1.7</b> Ambientes de trabajo</a></li>
<li class="chapter" data-level="3.1.8" data-path="introduccion-a-r.html"><a href="introduccion-a-r.html#paquetes-a-utilizar-a-lo-largo-del-curso"><i class="fa fa-check"></i><b>3.1.8</b> Paquetes a utilizar a lo largo del curso:</a></li>
<li class="chapter" data-level="3.1.9" data-path="introduccion-a-r.html"><a href="introduccion-a-r.html#ejercicios-para-practicar"><i class="fa fa-check"></i><b>3.1.9</b> Ejercicios para practicar</a></li>
<li class="chapter" data-level="3.1.10" data-path="introduccion-a-r.html"><a href="introduccion-a-r.html#ejercicios-de-tarea"><i class="fa fa-check"></i><b>3.1.10</b> Ejercicios de tarea</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><i class="fa fa-check"></i><b>4</b> Tidyverse y Tasas básicas del Mercado de Trabajo</a><ul>
<li class="chapter" data-level="4.1" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#estructuracion-de-bases-de-datos"><i class="fa fa-check"></i><b>4.1</b> Estructuración de Bases de Datos</a></li>
<li class="chapter" data-level="4.2" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#dplyr"><i class="fa fa-check"></i><b>4.2</b> Dplyr</a><ul>
<li class="chapter" data-level="4.2.1" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#filter"><i class="fa fa-check"></i><b>4.2.1</b> filter</a></li>
<li class="chapter" data-level="4.2.2" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#rename"><i class="fa fa-check"></i><b>4.2.2</b> rename</a></li>
<li class="chapter" data-level="4.2.3" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#mutate"><i class="fa fa-check"></i><b>4.2.3</b> mutate</a></li>
<li class="chapter" data-level="4.2.4" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#case_when"><i class="fa fa-check"></i><b>4.2.4</b> case_when</a></li>
<li class="chapter" data-level="4.2.5" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#select"><i class="fa fa-check"></i><b>4.2.5</b> select</a></li>
<li class="chapter" data-level="4.2.6" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#arrange"><i class="fa fa-check"></i><b>4.2.6</b> arrange</a></li>
<li class="chapter" data-level="4.2.7" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#summarise"><i class="fa fa-check"></i><b>4.2.7</b> summarise</a></li>
<li class="chapter" data-level="4.2.8" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#group_by"><i class="fa fa-check"></i><b>4.2.8</b> group_by</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#joins"><i class="fa fa-check"></i><b>4.3</b> Joins</a><ul>
<li class="chapter" data-level="4.3.1" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#left_join"><i class="fa fa-check"></i><b>4.3.1</b> left_join</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#tidyr"><i class="fa fa-check"></i><b>4.4</b> Tidyr</a><ul>
<li class="chapter" data-level="4.4.1" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#gather-y-spread"><i class="fa fa-check"></i><b>4.4.1</b> Gather y Spread</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#tasas-del-mercado-de-trabajo"><i class="fa fa-check"></i><b>4.5</b> Tasas del Mercado de Trabajo</a><ul>
<li class="chapter" data-level="4.5.1" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#tasa-de-empleo"><i class="fa fa-check"></i><b>4.5.1</b> Tasa de Empleo</a></li>
<li class="chapter" data-level="4.5.2" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#tasas-basicas---total-aglomerados"><i class="fa fa-check"></i><b>4.5.2</b> Tásas Básicas - Total Aglomerados</a></li>
<li class="chapter" data-level="4.5.3" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#tasas-basicas-por-aglomerado"><i class="fa fa-check"></i><b>4.5.3</b> Tásas Básicas por Aglomerado</a></li>
<li class="chapter" data-level="4.5.4" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#ejercicio-para-2-trimestres"><i class="fa fa-check"></i><b>4.5.4</b> Ejercicio para 2 trimestres</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#ejercicios-para-practicar-1"><i class="fa fa-check"></i><b>4.6</b> Ejercicios para practicar</a><ul>
<li class="chapter" data-level="4.6.1" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#ejercicios-de-tarea-1"><i class="fa fa-check"></i><b>4.6.1</b> Ejercicios de tarea</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="calculo-de-pobreza-por-linea.html"><a href="calculo-de-pobreza-por-linea.html"><i class="fa fa-check"></i><b>5</b> Cálculo de Pobreza por Línea</a><ul>
<li class="chapter" data-level="5.1" data-path="calculo-de-pobreza-por-linea.html"><a href="calculo-de-pobreza-por-linea.html#canastas-trimestrales-por-region"><i class="fa fa-check"></i><b>5.1</b> Canastas Trimestrales por Region</a></li>
<li class="chapter" data-level="5.2" data-path="calculo-de-pobreza-por-linea.html"><a href="calculo-de-pobreza-por-linea.html#unidades-de-adulto-equivalente-por-hogar-en-la-base-individual"><i class="fa fa-check"></i><b>5.2</b> Unidades de Adulto Equivalente por hogar en la base Individual</a></li>
<li class="chapter" data-level="5.3" data-path="calculo-de-pobreza-por-linea.html"><a href="calculo-de-pobreza-por-linea.html#calculo-de-tasas-de-pobreza-e-indigencia"><i class="fa fa-check"></i><b>5.3</b> Cálculo de Tasas de Pobreza e Indigencia</a></li>
<li class="chapter" data-level="5.4" data-path="introduccion-a-r.html"><a href="introduccion-a-r.html#ejercicios-para-practicar"><i class="fa fa-check"></i><b>5.4</b> Ejercicios Para prácticar</a></li>
<li class="chapter" data-level="5.5" data-path="calculo-de-pobreza-por-linea.html"><a href="calculo-de-pobreza-por-linea.html#ejercicios-de-tarea-2"><i class="fa fa-check"></i><b>5.5</b> Ejercicios de tarea</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="graficos-y-distribucion-del-ingreso.html"><a href="graficos-y-distribucion-del-ingreso.html"><i class="fa fa-check"></i><b>6</b> Gráficos y Distribución del Ingreso</a><ul>
<li class="chapter" data-level="6.1" data-path="graficos-y-distribucion-del-ingreso.html"><a href="graficos-y-distribucion-del-ingreso.html#graficos-basicos-en-r"><i class="fa fa-check"></i><b>6.1</b> Gráficos Básicos en R</a><ul>
<li class="chapter" data-level="6.1.1" data-path="graficos-y-distribucion-del-ingreso.html"><a href="graficos-y-distribucion-del-ingreso.html#png"><i class="fa fa-check"></i><b>6.1.1</b> png</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="graficos-y-distribucion-del-ingreso.html"><a href="graficos-y-distribucion-del-ingreso.html#ggplot2"><i class="fa fa-check"></i><b>6.2</b> <span>Ggplot2</span></a><ul>
<li class="chapter" data-level="6.2.1" data-path="graficos-y-distribucion-del-ingreso.html"><a href="graficos-y-distribucion-del-ingreso.html#grafico-de-puntos"><i class="fa fa-check"></i><b>6.2.1</b> Gráfico de Puntos</a></li>
<li class="chapter" data-level="6.2.2" data-path="graficos-y-distribucion-del-ingreso.html"><a href="graficos-y-distribucion-del-ingreso.html#extensiones-de-ggplot."><i class="fa fa-check"></i><b>6.2.2</b> Extensiones de <span>GGplot</span>.</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="graficos-y-distribucion-del-ingreso.html"><a href="graficos-y-distribucion-del-ingreso.html#graficos-ingresos---eph"><i class="fa fa-check"></i><b>6.3</b> Graficos Ingresos - EPH</a><ul>
<li class="chapter" data-level="6.3.1" data-path="graficos-y-distribucion-del-ingreso.html"><a href="graficos-y-distribucion-del-ingreso.html#ingreso-de-la-ocupacion-principal"><i class="fa fa-check"></i><b>6.3.1</b> Ingreso de la ocupación principal</a></li>
<li class="chapter" data-level="6.3.2" data-path="graficos-y-distribucion-del-ingreso.html"><a href="graficos-y-distribucion-del-ingreso.html#distribucion-de-los-ingresos-laborales-y-no-laborales-por-sexo"><i class="fa fa-check"></i><b>6.3.2</b> Distribución de los ingresos laborales y no laborales por sexo</a></li>
<li class="chapter" data-level="6.3.3" data-path="graficos-y-distribucion-del-ingreso.html"><a href="graficos-y-distribucion-del-ingreso.html#otros-graficos"><i class="fa fa-check"></i><b>6.3.3</b> Otros gráficos</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="graficos-y-distribucion-del-ingreso.html"><a href="graficos-y-distribucion-del-ingreso.html#ejercicios"><i class="fa fa-check"></i><b>6.4</b> Ejercicios</a><ul>
<li class="chapter" data-level="6.4.1" data-path="graficos-y-distribucion-del-ingreso.html"><a href="graficos-y-distribucion-del-ingreso.html#para-practicar"><i class="fa fa-check"></i><b>6.4.1</b> Para practicar</a></li>
<li class="chapter" data-level="6.4.2" data-path="graficos-y-distribucion-del-ingreso.html"><a href="graficos-y-distribucion-del-ingreso.html#de-tarea"><i class="fa fa-check"></i><b>6.4.2</b> De tarea</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="pool-de-datos-en-panel-y-matrices-de-transicion.html"><a href="pool-de-datos-en-panel-y-matrices-de-transicion.html"><i class="fa fa-check"></i><b>7</b> Pool de Datos en Panel y Matrices de Transición</a><ul>
<li class="chapter" data-level="7.1" data-path="pool-de-datos-en-panel-y-matrices-de-transicion.html"><a href="pool-de-datos-en-panel-y-matrices-de-transicion.html#datos-de-panel"><i class="fa fa-check"></i><b>7.1</b> Datos De Panel</a><ul>
<li class="chapter" data-level="7.1.1" data-path="pool-de-datos-en-panel-y-matrices-de-transicion.html"><a href="pool-de-datos-en-panel-y-matrices-de-transicion.html#introduccion-1"><i class="fa fa-check"></i><b>7.1.1</b> Introducción</a></li>
<li class="chapter" data-level="7.1.2" data-path="pool-de-datos-en-panel-y-matrices-de-transicion.html"><a href="pool-de-datos-en-panel-y-matrices-de-transicion.html#pasos-para-la-construccion-del-panel"><i class="fa fa-check"></i><b>7.1.2</b> Pasos para la construccion del Panel</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="pool-de-datos-en-panel-y-matrices-de-transicion.html"><a href="pool-de-datos-en-panel-y-matrices-de-transicion.html#matrices-de-transicion"><i class="fa fa-check"></i><b>7.2</b> Matrices de transición</a><ul>
<li class="chapter" data-level="7.2.1" data-path="pool-de-datos-en-panel-y-matrices-de-transicion.html"><a href="pool-de-datos-en-panel-y-matrices-de-transicion.html#calculo-de-probabilidades-de-transicion."><i class="fa fa-check"></i><b>7.2.1</b> Calculo de probabilidades de transición.</a></li>
<li class="chapter" data-level="7.2.2" data-path="pool-de-datos-en-panel-y-matrices-de-transicion.html"><a href="pool-de-datos-en-panel-y-matrices-de-transicion.html#grafico-de-matriz-de-transicion"><i class="fa fa-check"></i><b>7.2.2</b> Gráfico de Matriz de Transición</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html"><a href="tidyverse-y-tasas-basicas-del-mercado-de-trabajo.html#ejercicios-para-practicar-1"><i class="fa fa-check"></i><b>7.3</b> Ejercicios Para prácticar</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>8</b> RMarkdown</a><ul>
<li class="chapter" data-level="8.1" data-path="rmarkdown.html"><a href="rmarkdown.html#introduccion-2"><i class="fa fa-check"></i><b>8.1</b> Introducción</a></li>
<li class="chapter" data-level="8.2" data-path="rmarkdown.html"><a href="rmarkdown.html#organizacion-de-los-datos"><i class="fa fa-check"></i><b>8.2</b> Organización de los datos</a></li>
<li class="chapter" data-level="8.3" data-path="rmarkdown.html"><a href="rmarkdown.html#tasas-basicas-de-mercado-de-trabajo"><i class="fa fa-check"></i><b>8.3</b> Tasas básicas de Mercado de trabajo</a></li>
<li class="chapter" data-level="8.4" data-path="rmarkdown.html"><a href="rmarkdown.html#empleo-no-registrado"><i class="fa fa-check"></i><b>8.4</b> Empleo no registrado</a></li>
<li class="chapter" data-level="8.5" data-path="rmarkdown.html"><a href="rmarkdown.html#brechas-de-ingresos"><i class="fa fa-check"></i><b>8.5</b> Brechas de ingresos</a><ul>
<li class="chapter" data-level="8.5.1" data-path="rmarkdown.html"><a href="rmarkdown.html#brecha-de-ingresos-totales-mensuales"><i class="fa fa-check"></i><b>8.5.1</b> Brecha de ingresos totales mensuales</a></li>
<li class="chapter" data-level="8.5.2" data-path="rmarkdown.html"><a href="rmarkdown.html#brecha-de-ingresos-mensuales-por-nivel-educativo"><i class="fa fa-check"></i><b>8.5.2</b> Brecha de ingresos mensuales por nivel educativo</a></li>
<li class="chapter" data-level="8.5.3" data-path="rmarkdown.html"><a href="rmarkdown.html#brecha-de-ingresos-mensuales-y-horarios-por-nivel-educativo"><i class="fa fa-check"></i><b>8.5.3</b> Brecha de ingresos mensuales y horarios por nivel educativo</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="rmarkdown.html"><a href="rmarkdown.html#horas-semanales-trabajadas"><i class="fa fa-check"></i><b>8.6</b> Horas semanales trabajadas</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="programacion-funcional.html"><a href="programacion-funcional.html"><i class="fa fa-check"></i><b>9</b> Programacion Funcional</a><ul>
<li class="chapter" data-level="9.1" data-path="programacion-funcional.html"><a href="programacion-funcional.html#loops"><i class="fa fa-check"></i><b>9.1</b> Loops</a></li>
<li class="chapter" data-level="9.2" data-path="programacion-funcional.html"><a href="programacion-funcional.html#estructuras-condicionales"><i class="fa fa-check"></i><b>9.2</b> Estructuras Condicionales</a><ul>
<li class="chapter" data-level="9.2.1" data-path="programacion-funcional.html"><a href="programacion-funcional.html#if"><i class="fa fa-check"></i><b>9.2.1</b> if</a></li>
<li class="chapter" data-level="9.2.2" data-path="programacion-funcional.html"><a href="programacion-funcional.html#ifelse"><i class="fa fa-check"></i><b>9.2.2</b> ifelse</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="programacion-funcional.html"><a href="programacion-funcional.html#funciones-1"><i class="fa fa-check"></i><b>9.3</b> Funciones</a></li>
<li class="chapter" data-level="9.4" data-path="programacion-funcional.html"><a href="programacion-funcional.html#purrr"><i class="fa fa-check"></i><b>9.4</b> PURRR</a><ul>
<li class="chapter" data-level="9.4.1" data-path="programacion-funcional.html"><a href="programacion-funcional.html#iterando-en-la-eph"><i class="fa fa-check"></i><b>9.4.1</b> Iterando en la EPH</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="programacion-funcional.html"><a href="programacion-funcional.html#ejemplo.-regresion-lineal"><i class="fa fa-check"></i><b>9.5</b> Ejemplo. Regresión lineal</a><ul>
<li class="chapter" data-level="9.5.1" data-path="programacion-funcional.html"><a href="programacion-funcional.html#loopeando"><i class="fa fa-check"></i><b>9.5.1</b> Loopeando</a></li>
<li class="chapter" data-level="9.5.2" data-path="programacion-funcional.html"><a href="programacion-funcional.html#usando-map"><i class="fa fa-check"></i><b>9.5.2</b> Usando MAP</a></li>
<li class="chapter" data-level="9.5.3" data-path="programacion-funcional.html"><a href="programacion-funcional.html#walk"><i class="fa fa-check"></i><b>9.5.3</b> Walk</a></li>
<li class="chapter" data-level="9.5.4" data-path="programacion-funcional.html"><a href="programacion-funcional.html#discusion."><i class="fa fa-check"></i><b>9.5.4</b> Discusión.</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="programacion-funcional.html"><a href="programacion-funcional.html#lectura-y-escritura-de-archivos-intermedia"><i class="fa fa-check"></i><b>9.6</b> Lectura y escritura de archivos intermedia</a><ul>
<li class="chapter" data-level="9.6.1" data-path="programacion-funcional.html"><a href="programacion-funcional.html#rdata"><i class="fa fa-check"></i><b>9.6.1</b> RData</a></li>
<li class="chapter" data-level="9.6.2" data-path="programacion-funcional.html"><a href="programacion-funcional.html#rds"><i class="fa fa-check"></i><b>9.6.2</b> RDS</a></li>
<li class="chapter" data-level="9.6.3" data-path="programacion-funcional.html"><a href="programacion-funcional.html#spss-stata-sas"><i class="fa fa-check"></i><b>9.6.3</b> SPSS, STATA, SAS</a></li>
<li class="chapter" data-level="9.6.4" data-path="programacion-funcional.html"><a href="programacion-funcional.html#encoding"><i class="fa fa-check"></i><b>9.6.4</b> Encoding</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="programacion-funcional.html"><a href="programacion-funcional.html#ayudas"><i class="fa fa-check"></i><b>9.7</b> Ayudas</a></li>
<li class="chapter" data-level="9.8" data-path="programacion-funcional.html"><a href="programacion-funcional.html#ejercicios-para-practicar-2"><i class="fa fa-check"></i><b>9.8</b> Ejercicios para practicar</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introducción a R para Ciencias Sociales. Aplicación practica en la EPH</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="graficos-y-distribucion-del-ingreso" class="section level1">
<h1><span class="header-section-number">Capítulo 6</span> Gráficos y Distribución del Ingreso</h1>
<blockquote>
<p>Reiniciar Sesión</p>
</blockquote>
<div id="graficos-basicos-en-r" class="section level2">
<h2><span class="header-section-number">6.1</span> Gráficos Básicos en R</h2>
<p>Rbase tiene algunos comandos genéricos para realizar gráficos, que se adaptan al tipo de información que se le pide graficar, por ejemplo:</p>
<ul>
<li>plot()</li>
<li>hist()</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">## iris es un set de datos clásico, que ya viene incorporado en R</span>
iris[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>,]</code></pre>
<pre><code>##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1           5.1         3.5          1.4         0.2  setosa
## 2           4.9         3.0          1.4         0.2  setosa
## 3           4.7         3.2          1.3         0.2  setosa
## 4           4.6         3.1          1.5         0.2  setosa
## 5           5.0         3.6          1.4         0.2  setosa
## 6           5.4         3.9          1.7         0.4  setosa
## 7           4.6         3.4          1.4         0.3  setosa
## 8           5.0         3.4          1.5         0.2  setosa
## 9           4.4         2.9          1.4         0.2  setosa
## 10          4.9         3.1          1.5         0.1  setosa</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(iris)</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-76-1.png" width="768" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">##Al especificar una variable, puedo ver el valor que toma cada uno de sus registros (Index)</span>
<span class="kw">plot</span>(iris<span class="op">$</span>Sepal.Length,<span class="dt">type =</span> <span class="st">&quot;p&quot;</span>) <span class="co">## Un punto por cada valor</span></code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-77-1.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(iris<span class="op">$</span>Sepal.Length,<span class="dt">type =</span> <span class="st">&quot;l&quot;</span>) <span class="co">## Una linea que una cada valor</span></code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-77-2.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(iris<span class="op">$</span>Sepal.Length,<span class="dt">type =</span> <span class="st">&quot;b&quot;</span>) <span class="co">##Ambas</span></code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-77-3.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(iris<span class="op">$</span>Sepal.Length, <span class="dt">col =</span> <span class="st">&quot;lightsalmon1&quot;</span>, <span class="dt">main =</span> <span class="st">&quot;Histograma&quot;</span>)</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-77-4.png" width="672" /></p>
<div id="png" class="section level3">
<h3><span class="header-section-number">6.1.1</span> png</h3>
<p>La función <code>png()</code> nos permite grabar una imagen en el disco. Lleva como argumento principal la ruta completa a donde se desea guardar la misma, incluyendo el nombre que queremos dar al archivo. A su vez pueden especificarse otros argumetnos como el ancho y largo de la imagen, entre otros.</p>
<pre class="sourceCode r"><code class="sourceCode r">ruta_archivo &lt;-<span class="st"> &quot;Resultados/grafico1.PNG&quot;</span>
ruta_archivo</code></pre>
<pre><code>## [1] &quot;Resultados/grafico1.PNG&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">png</span>(ruta_archivo)
<span class="kw">plot</span>(iris<span class="op">$</span>Sepal.Length,<span class="dt">type =</span> <span class="st">&quot;b&quot;</span>)
<span class="kw">dev.off</span>()</code></pre>
<pre><code>## png 
##   2</code></pre>
<p>La función <code>png()</code> <em>abre el dispositivo de imagen</em> en el directorio especificado. Luego creamos el gráfico que deseamos (o llamamos a uno previamente construido), el cual se desplegará en la ventana inferior derecha de la pantalla de Rstudio. Finalmente con <code>dev.off()</code> se <em>cierra el dispositivo</em> y se graban los gráficos.</p>
<p>Los gráficos del R base son útiles para escribir de forma rápida y obtener alguna información mientras trabajamos. Muchos paquetes estadísticos permiten mostrar los resultados de forma gráfica con el comando plot (por ejemplo, las regresiones lineales <code>lm()</code>).</p>
<p>Sin embargo, existen librerías mucho mejores para crear gráficos de nivel de publicación. La más importante es <strong>ggplot2</strong>, que a su vez tiene extensiones mediante otras librerías.</p>
</div>
</div>
<div id="ggplot2" class="section level2">
<h2><span class="header-section-number">6.2</span> <a href="http://ggplot2.tidyverse.org/reference/">Ggplot2</a></h2>
<p>ggplot tiene su sintaxis propia. La idea central es pensar los gráficos como una sucesión de capas, que se construyen una a la vez.</p>
<ul>
<li><p>El operador <strong><code>+</code></strong> nos permite incorporar nuevas capas al gráfico.</p></li>
<li><p>El comando <code>ggplot()</code> nos permite definir la fuente de <strong>datos</strong> y las <strong>variables</strong> que determinaran los ejes del grafico (x,y), así como el color y la forma de las líneas o puntos,etc.</p></li>
<li><p>Las sucesivas capas nos permiten definir:</p>
<ul>
<li>Uno o más tipos de gráficos (de columnas, <code>geom_col()</code>, de línea, <code>geom_line()</code>, de puntos,<code>geom_point()</code>, boxplot, <code>geom_boxplot()</code>)</li>
<li>Títulos <code>labs()</code></li>
<li>Estilo del gráfico <code>theme()</code></li>
<li>Escalas de los ejes <code>scale_y_continuous</code>,<code>scale_x_discrete</code></li>
<li>División en subconjuntos <code>facet_wrap()</code>,<code>facet_grid()</code></li>
</ul></li>
</ul>
<p>ggplot tiene <strong>muchos</strong> comandos, y no tiene sentido saberlos de memoria, es siempre útil reutilizar gráficos viejos y tener a mano el <a href="https://www.rstudio.com/wp-content/uploads/2016/11/ggplot2-cheatsheet-2.1.pdf">machete</a>.</p>
<div id="grafico-de-puntos" class="section level3">
<h3><span class="header-section-number">6.2.1</span> Gráfico de Puntos</h3>
<p>A continuación se desplega un gráfico de varias capas de construcción, con su correspondiente porción de código. En el mismo se buscará visualizar, a partir de la base de datos <strong>iris</strong> la relación entre el ancho y el largo de los petalos, mediante un gráfico de puntos.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2) <span class="co">## cargamos la librería</span>

<span class="kw">ggplot</span>(<span class="dt">data =</span> iris, <span class="kw">aes</span>(<span class="dt">x =</span> Petal.Length, Petal.Width, <span class="dt">color =</span> Species))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha=</span><span class="fl">0.75</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Medidas de los pétalos por especie&quot;</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&#39;none&#39;</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>Species)</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-79-1.png" width="672" />
### Capas del Gráfico
Veamos ahora, el “paso a paso” del armado del mismo.</p>
<p>En primera instancia solo defino los ejes. Y en este caso un color particular para cada Especie.</p>
<pre class="sourceCode r"><code class="sourceCode r">g &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> iris, <span class="kw">aes</span>(<span class="dt">x =</span> Petal.Length, Petal.Width, <span class="dt">color =</span> Species))
g</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-80-1.png" width="672" />
Luego, defino el tipo de gráfico. El <em>alpha</em> me permite definir la intensidad de los puntos</p>
<pre class="sourceCode r"><code class="sourceCode r">g &lt;-<span class="st"> </span>g <span class="op">+</span><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha=</span><span class="fl">0.25</span>)
g</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-81-1.png" width="672" />
Las siguientes tres capas me permiten respectivamente:</p>
<ul>
<li>Definir el título del gráfico</li>
<li>Quitar la leyenda</li>
<li>Abrir el gráfico en tres fragmentos, uno para cada especie</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">g &lt;-<span class="st"> </span>g <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Medidas de los pétalos por especie&quot;</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&#39;none&#39;</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>Species)
g</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-82-1.png" width="672" /></p>
</div>
<div id="extensiones-de-ggplot." class="section level3">
<h3><span class="header-section-number">6.2.2</span> Extensiones de <a href="http://www.ggplot2-exts.org/gallery/">GGplot</a>.</h3>
<p>La librería GGplot tiene a su vez muchas otras librerías que extienden sus potencialidades. Entre nuestras favoritas están:</p>
<ul>
<li><a href="https://gganimate.com/">gganimate</a>: Para hacer gráficos animados.</li>
<li><a href="https://cran.r-project.org/web/packages/ggridges/vignettes/introduction.html">ggridge</a>: Para hacer gráficos de densidad faceteados</li>
<li><a href="https://ggobi.github.io/ggally/">ggally</a>: Para hacer varios gráficos juntos.</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(GGally)

<span class="kw">ggpairs</span>(iris,  <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">color =</span> Species))</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-83-1.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggridges)</code></pre>
<pre><code>## 
## Attaching package: &#39;ggridges&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:ggplot2&#39;:
## 
##     scale_discrete_manual</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(iris, <span class="kw">aes</span>(<span class="dt">x =</span> Sepal.Length, <span class="dt">y =</span> Species, <span class="dt">fill=</span>Species)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_density_ridges</span>()</code></pre>
<pre><code>## Picking joint bandwidth of 0.181</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-84-1.png" width="672" /></p>
<p>También hay extensiones que te ayudan a escribir el código, como <a href="https://dreamrs.github.io/esquisse/">esquisse</a></p>
<pre class="sourceCode r"><code class="sourceCode r">iris &lt;-<span class="st"> </span>iris
<span class="co">##Correr en la consola</span>
esquisse<span class="op">::</span><span class="kw">esquisser</span>()</code></pre>
</div>
</div>
<div id="graficos-ingresos---eph" class="section level2">
<h2><span class="header-section-number">6.3</span> Graficos Ingresos - EPH</h2>
<p>A continuación utilzaremos los conceptos abordados, para realizar gráficos a partir de las variables de ingresos.</p>
<p>Una de las ventajas del <strong>R</strong> respecto a otros softwares estadísticos, es la facilidad con la que podemos trabajar en simultaneo con multiples bases de datos. Aprovechando esta potencialidad, levantaremos a continuación 4 bases individuales de la <strong>EPH</strong> para realizar gráficos de series temporales.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">##Cargamos las librerías a utilizar</span>

<span class="kw">library</span>(tidyverse) <span class="co">## tiene ggplot, dplyr, tidyr, y otros</span>
<span class="kw">library</span>(ggthemes)  <span class="co">## estilos de gráficos</span>
<span class="kw">library</span>(ggrepel)   <span class="co">## etiquetas de texto más prolijas que las de ggplot</span></code></pre>
<p>Para mayor practicidad, al momento de levantar las bases de datos, seleccionamos las variables necesarias (A excepción de la base del t1_2017 con la que trabajaremos numerosas variables)</p>
<pre class="sourceCode r"><code class="sourceCode r">
Individual_t117 &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;Fuentes/usu_individual_t117.txt&quot;</span>,
                              <span class="dt">sep=</span><span class="st">&quot;;&quot;</span>, <span class="dt">dec=</span><span class="st">&quot;,&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>, <span class="dt">fill =</span> <span class="ot">TRUE</span>)

Individual_t216 &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;Fuentes/usu_individual_t216.txt&quot;</span>,
                              <span class="dt">sep=</span><span class="st">&quot;;&quot;</span>, <span class="dt">dec=</span><span class="st">&quot;,&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>, <span class="dt">fill =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(ANO4,TRIMESTRE,P21,PONDIIO,IPCF, PONDIH)

Individual_t316 &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;Fuentes/usu_individual_t316.txt&quot;</span>,
                              <span class="dt">sep=</span><span class="st">&quot;;&quot;</span>, <span class="dt">dec=</span><span class="st">&quot;,&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>, <span class="dt">fill =</span> <span class="ot">TRUE</span>)<span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(ANO4,TRIMESTRE,P21,PONDIIO, IPCF, PONDIH)

Individual_t416 &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;Fuentes/usu_individual_t416.txt&quot;</span>,
                              <span class="dt">sep=</span><span class="st">&quot;;&quot;</span>, <span class="dt">dec=</span><span class="st">&quot;,&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>, <span class="dt">fill =</span> <span class="ot">TRUE</span>)<span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(ANO4,TRIMESTRE,P21,PONDIIO, IPCF, PONDIH)</code></pre>
<div id="ingreso-de-la-ocupacion-principal" class="section level3">
<h3><span class="header-section-number">6.3.1</span> Ingreso de la ocupación principal</h3>
<ul>
<li><p>Nuestro primer ejercicio consistirá en analizar la evolución del ingreso por la ocupación principal. Observando el diseño de registro podremos ver que dicha variable está codificada como <code>P21</code>.</p></li>
<li><p>Para minimizar la volatilidad que la <em>no respuesta de ingresos</em> podría generar en los resultados de unos y otros trimestres, la EPH asigna a los no respondentes el comportamiento de los respondentes por estrato de la muestra. A partir de esto <strong>las variables de ingresos presentan distintos factores de expansión</strong>.</p></li>
<li><p>En el caso del ingreso de la ocupación principal debemos trabajar con el expansor <code>PONDIIO</code>.</p></li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">##Unimos las bases y creamos una variable que concatena el año y el trimestre</span>
Union_Bases &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(Individual_t216, 
                  Individual_t316,
                  Individual_t416,
                  Individual_t117) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">periodo =</span> <span class="kw">paste</span>(ANO4, TRIMESTRE, <span class="dt">sep =</span> <span class="st">&quot;_&quot;</span>)) </code></pre>
<ul>
<li>Calculamos el ingreso per capita promedio, utilizando el ponderador correspondiente.</li>
<li><strong>Importante: Debemos exigir ingresos positivos, ya que tenemos numerosos casos con ingreso 0 y otros codificados con -9 (cuando no corresponde la pregunta por la ocupación principal)</strong></li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">IOppal &lt;-Union_Bases   <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(P21<span class="op">&gt;</span><span class="dv">0</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(periodo) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">IOppal_prom =</span> <span class="kw">weighted.mean</span>(P21, PONDIIO)) 

IOppal</code></pre>
<pre><code>## # A tibble: 4 x 2
##   periodo IOppal_prom
##   &lt;chr&gt;         &lt;dbl&gt;
## 1 2016_2       10071.
## 2 2016_3       10757.
## 3 2016_4       11533.
## 4 2017_1       12305.</code></pre>
<p>Ahora podemos utilizar este nuevo dataframe para graficar</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> IOppal, <span class="kw">aes</span>(<span class="dt">x =</span> periodo, <span class="dt">y =</span> IOppal_prom)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>()</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-90-1.png" width="672" /></p>
<p>Agregando algunos parámetros más …</p>
<ol style="list-style-type: decimal">
<li>Definimos las variables del gráfico</li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r">g &lt;-<span class="st"> </span>IOppal <span class="op">%&gt;%</span><span class="st"> </span><span class="co">##Podemos usar los &quot;pipes&quot; para llamar al Dataframe que continen la info</span>
<span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> periodo,
           <span class="dt">y =</span> IOppal_prom,
           <span class="co">##Agrupar nos permitirá generar las lineas del gráfico</span>
           <span class="dt">group =</span> <span class="st">&#39;IOppal_prom&#39;</span>,
           <span class="co">##Agregamos una etiqueta a los datos (Redondeando la variable a 2 posiciones decimales)</span>
           <span class="dt">label=</span> <span class="kw">round</span>(IOppal_prom,<span class="dv">2</span>)))</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Agregamos titulo y modificamos ejes</li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r">g &lt;-<span class="st"> </span>g <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Trimestre&quot;</span>,
       <span class="dt">y =</span> <span class="st">&quot;IPCF promedio&quot;</span>,
       <span class="dt">title =</span> <span class="st">&quot;Ingreso promedio por la ocupación principal&quot;</span>,
       <span class="dt">subtitle =</span> <span class="st">&quot;Serie 2trim_2016 - 1trim_2017&quot;</span>,
       <span class="dt">caption =</span> <span class="st">&quot;Fuente: EPH&quot;</span>)</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Agregamos puntos y lineas</li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r">g &lt;-<span class="st"> </span>g <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">size=</span> <span class="dv">3</span>)<span class="op">+</span><span class="st"> </span><span class="co">##puedo definir tamaño de las lineas</span>
<span class="st">  </span><span class="kw">geom_line</span>( <span class="dt">size=</span> <span class="dv">1</span> )</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Agrego etiquetas con el texto. Las corro hacia arriba (nudge_y) y a la izquierda(nudge_x)</li>
<li>Agrego un tema</li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r">g &lt;-<span class="st"> </span>g <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="dt">nudge_y =</span> <span class="dv">500</span>, <span class="dt">nudge_x =</span> <span class="fl">0.25</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">theme_minimal</span>()</code></pre>
<ol start="6" style="list-style-type: decimal">
<li>muestro el gráfico (guardado en <code>g</code>)</li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r">g</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-95-1.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="st">&quot;Resultados/IPCF_prom.png&quot;</span>) <span class="co">##Guardo el Grafico</span></code></pre>
<pre><code>## Saving 7 x 5 in image</code></pre>
</div>
<div id="distribucion-de-los-ingresos-laborales-y-no-laborales-por-sexo" class="section level3">
<h3><span class="header-section-number">6.3.2</span> Distribución de los ingresos laborales y no laborales por sexo</h3>
<ul>
<li>Ingresos no laborales : <em>TVI</em></li>
<li>Ingreso laborales:
<ul>
<li><em>P21</em> MONTO DE INGRESO DE LA OCUPACIÓN PRINCIPAL</li>
<li><em>Totp12</em> MONTO DE INGRESO DE OTRAS OCUPACIONES.</li>
</ul></li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">  datagraf_<span class="dv">2</span> &lt;-Individual_t117 <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="co">##eligo las variables que necesito</span>
<span class="st">    </span><span class="kw">select</span>(P47T,T_VI, TOT_P12, P21 , PONDII, CH04,NIVEL_ED) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="co">## Me quedo con los que tienen ingreso total individual (P47) positivo</span>
<span class="st">    </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(P47T), P47T <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span> ) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">ingreso_laboral    =</span> TOT_P12 <span class="op">+</span><span class="st"> </span>P21,
           <span class="dt">ingreso_no_laboral =</span> T_VI,
           <span class="dt">ingreso_total      =</span> ingreso_laboral <span class="op">+</span><span class="st"> </span>ingreso_no_laboral,
           <span class="dt">CH04               =</span> <span class="kw">case_when</span>(CH04 <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">~</span><span class="st"> &quot;Varon&quot;</span>,
                                          CH04 <span class="op">==</span><span class="st"> </span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;Mujer&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(CH04) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="st">&#39;ingreso laboral&#39;</span>    =<span class="st"> </span><span class="kw">sum</span>(ingreso_laboral<span class="op">*</span>PONDII)<span class="op">/</span><span class="kw">sum</span>(ingreso_total<span class="op">*</span>PONDII),
            <span class="st">&#39;ingreso no laboral&#39;</span> =<span class="st"> </span><span class="kw">sum</span>(ingreso_no_laboral<span class="op">*</span>PONDII)<span class="op">/</span><span class="kw">sum</span>(ingreso_total<span class="op">*</span>PONDII)) 

datagraf_<span class="dv">2</span>  </code></pre>
<pre><code>## # A tibble: 2 x 3
##   CH04  `ingreso laboral` `ingreso no laboral`
##   &lt;chr&gt;             &lt;dbl&gt;                &lt;dbl&gt;
## 1 Mujer             0.607                0.393
## 2 Varon             0.813                0.187</code></pre>
<p>Doy vuelta la tabla para poder graficar</p>
<pre class="sourceCode r"><code class="sourceCode r">datagrafico &lt;-<span class="st"> </span>datagraf_<span class="dv">2</span> <span class="op">%&gt;%</span>
<span class="kw">gather</span>(tipo_ingreso, monto,<span class="dv">2</span><span class="op">:</span><span class="dv">3</span> ) 
datagrafico</code></pre>
<pre><code>## # A tibble: 4 x 3
##   CH04  tipo_ingreso       monto
##   &lt;chr&gt; &lt;chr&gt;              &lt;dbl&gt;
## 1 Mujer ingreso laboral    0.607
## 2 Varon ingreso laboral    0.813
## 3 Mujer ingreso no laboral 0.393
## 4 Varon ingreso no laboral 0.187</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(datagrafico, <span class="kw">aes</span>(CH04, monto, <span class="dt">fill =</span> tipo_ingreso, 
                      <span class="dt">label =</span> <span class="kw">sprintf</span>(<span class="st">&quot;%1.1f%%&quot;</span>, <span class="dv">100</span><span class="op">*</span>monto)))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_col</span>(<span class="dt">position =</span> <span class="st">&quot;stack&quot;</span>, <span class="dt">alpha=</span><span class="fl">0.6</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_text</span>(<span class="dt">position =</span> <span class="kw">position_stack</span>(<span class="dt">vjust =</span> <span class="fl">0.5</span>), <span class="dt">size=</span><span class="dv">5</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;&quot;</span>,<span class="dt">y=</span><span class="st">&quot;Porcentaje&quot;</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">theme_tufte</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,
        <span class="dt">legend.title=</span><span class="kw">element_blank</span>(),
        <span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle=</span><span class="dv">25</span>))</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-98-1.png" width="768" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="st">&quot;Resultados/ingresos laborales y no laborales.png&quot;</span>,<span class="dt">scale =</span> <span class="dv">2</span>)</code></pre>
<pre><code>## Saving 16 x 16 in image</code></pre>
<p>Podemos agregar también grupos de edad como otra dimensión del análisis. Optamos por restringuir la población de análisis a la comprendida entre 18 y 60 años</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">####Agrego al procedimiento anterior una clasificación de las edades</span>
  datagraf_<span class="dv">3</span> &lt;-Individual_t117 <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">select</span>(P47T,T_VI, TOT_P12, P21 , PONDII, CH04,CH06) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(P47T), P47T <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span> , CH06 <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">18</span><span class="op">:</span><span class="dv">60</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">ingreso_laboral    =</span> <span class="kw">as.numeric</span>(TOT_P12 <span class="op">+</span><span class="st"> </span>P21),
           <span class="dt">ingreso_no_laboral =</span> <span class="kw">as.numeric</span>(T_VI),
           <span class="dt">ingreso_total      =</span> ingreso_laboral <span class="op">+</span><span class="st"> </span>ingreso_no_laboral,
           <span class="dt">CH04               =</span> <span class="kw">case_when</span>(CH04 <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">~</span><span class="st"> &quot;Varon&quot;</span>,
                                          CH04 <span class="op">==</span><span class="st"> </span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;Mujer&quot;</span>),
           <span class="dt">EDAD =</span> <span class="kw">case_when</span>(CH06 <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">18</span><span class="op">:</span><span class="dv">30</span>) <span class="op">~</span><span class="st"> &quot;18 a 30&quot;</span>,      <span class="co">##&lt;&lt;</span>
                            CH06 <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">31</span><span class="op">:</span><span class="dv">45</span>) <span class="op">~</span><span class="st">&quot;31 a 45&quot;</span>,       <span class="co">##&lt;&lt;</span>
                            CH06 <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">46</span><span class="op">:</span><span class="dv">60</span>) <span class="op">~</span><span class="st"> &quot;46 a 60&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="co">##&lt;&lt;</span>
<span class="st">  </span><span class="kw">group_by</span>(CH04,EDAD) <span class="op">%&gt;%</span><span class="st">                                        </span><span class="co">##&lt;&lt;</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="st">&#39;ingreso laboral&#39;</span>    =<span class="st"> </span><span class="kw">sum</span>(ingreso_laboral<span class="op">*</span>PONDII)<span class="op">/</span><span class="kw">sum</span>(ingreso_total<span class="op">*</span>PONDII),
            <span class="st">&#39;ingreso no laboral&#39;</span> =<span class="st"> </span><span class="kw">sum</span>(ingreso_no_laboral<span class="op">*</span>PONDII)<span class="op">/</span><span class="kw">sum</span>(ingreso_total<span class="op">*</span>PONDII)) <span class="op">%&gt;%</span>
<span class="kw">gather</span>(tipo_ingreso, monto,<span class="dv">3</span><span class="op">:</span><span class="dv">4</span>) 

datagraf_<span class="dv">3</span></code></pre>
<pre><code>## # A tibble: 12 x 4
## # Groups:   CH04 [2]
##    CH04  EDAD    tipo_ingreso        monto
##    &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;               &lt;dbl&gt;
##  1 Mujer 18 a 30 ingreso laboral    0.805 
##  2 Mujer 31 a 45 ingreso laboral    0.844 
##  3 Mujer 46 a 60 ingreso laboral    0.800 
##  4 Varon 18 a 30 ingreso laboral    0.907 
##  5 Varon 31 a 45 ingreso laboral    0.972 
##  6 Varon 46 a 60 ingreso laboral    0.915 
##  7 Mujer 18 a 30 ingreso no laboral 0.195 
##  8 Mujer 31 a 45 ingreso no laboral 0.156 
##  9 Mujer 46 a 60 ingreso no laboral 0.200 
## 10 Varon 18 a 30 ingreso no laboral 0.0934
## 11 Varon 31 a 45 ingreso no laboral 0.0282
## 12 Varon 46 a 60 ingreso no laboral 0.0855</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(datagraf_<span class="dv">3</span>, <span class="kw">aes</span>(CH04, monto, <span class="dt">fill =</span> tipo_ingreso, 
                      <span class="dt">label =</span> <span class="kw">sprintf</span>(<span class="st">&quot;%1.1f%%&quot;</span>, <span class="dv">100</span><span class="op">*</span>monto)))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_col</span>(<span class="dt">position =</span> <span class="st">&quot;stack&quot;</span>, <span class="dt">alpha=</span><span class="fl">0.6</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_text</span>(<span class="dt">position =</span> <span class="kw">position_stack</span>(<span class="dt">vjust =</span> <span class="fl">0.5</span>), <span class="dt">size=</span><span class="dv">3</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;&quot;</span>,<span class="dt">y=</span><span class="st">&quot;Porcentaje&quot;</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">theme_tufte</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,
        <span class="dt">legend.title=</span><span class="kw">element_blank</span>(),
        <span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle=</span><span class="dv">25</span>))<span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>EDAD)</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-100-1.png" width="672" /></p>
<p>En los gráficos utilizamos extensiones de ggplot:</p>
<ul>
<li>ggrepel <code>geom_text_repel()</code></li>
<li>ggthemes <code>theme_tufte()</code></li>
</ul>
<p>simplemente debemos recordar cargar las librerías si queremos utilizar esas funciones.</p>
</div>
<div id="otros-graficos" class="section level3">
<h3><span class="header-section-number">6.3.3</span> Otros gráficos</h3>
<p>Los gráficos hasta aquí realizados (barras, línea) son fácilmente reproducibles en un excel ya que utilizan la información agregada. Sin embargo, la gran ventaja del <strong>R</strong> se manifiesta a a la hora de realizar:</p>
<ul>
<li>Gráficos que necesitan la información a nivel de microdatos. <strong>puntos</strong>, <strong>boxplots</strong>, <strong>Kernels</strong>, etc.</li>
<li>Abrir un mismo gráfico según alguna variable discreta: <code>facet_wrap()</code></li>
<li>Parametrizar otras variables, para aumentar la dimensionalidad del gráficos.
<ul>
<li><a href="http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf"><strong>color</strong></a> <code>color =</code></li>
<li><strong>relleno</strong><code>fill =</code></li>
<li><strong>forma</strong> <code>shape =</code></li>
<li><strong>tamaño</strong> <code>size =</code></li>
<li><strong>transparencia</strong> <code>alpha =</code></li>
</ul></li>
</ul>
<p>Esto permite tener, en el plano, gráficos de muchas dimensiones de análisis</p>
<ul>
<li>Si el color representa una variable lo definimos <strong>dentro del aes()</strong>, <code>aes(... color = ingresos)</code></li>
<li>Cuando queremos simplemente mejorar el diseño (es fijo), se asigna por fuera, o dentro de cada tipo de gráficos, <code>geom_col(color = 'green')</code>.</li>
</ul>
<div id="boxplots" class="section level4">
<h4><span class="header-section-number">6.3.3.1</span> <a href="https://flowingdata.com/2008/02/15/how-to-read-and-use-a-box-and-whisker-plot/"><strong>Boxplots</strong></a></h4>
<ul>
<li>Los gráficos Boxplot representan una única variable (univariados).</li>
<li>Están compuestos por una caja, cuyo límite inferior es el valor donde se alcanza el 25% de la distribución</li>
<li>Su límite superior es el valor donde se alcanza el 75% de la misma.</li>
<li>A su vez, también el gráfico marca los valores “outliers” (datos que se encuentran a una distancia de al menos 1,5 veces el tamaño de la caja del límite inferior o superior de la caja, según corresponda)</li>
</ul>
<div id="boxplot-de-ingresos-de-la-ocupacion-principal-segun-nivel-educativo" class="section level8">
<p><span class="header-section-number">6.3.3.1.0.0.0.1</span> Boxplot de ingresos de la ocupación principal, según nivel educativo</p>
<p>Hacemos un procesamiento simple: Sacamos los ingresos iguales a cero y las no respuestas de nivel educativo.<br />
Es importante que las variables sean del tipo que conceptualmente les corresponde (el nivel educativo es una variable categórica, no continua), para que el ggplot pueda graficarlo correctamente.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">## Las variables sexo( CH04 ) y Nivel educativo están codificadas como números, y el R las entiende como numéricas.</span>
<span class="kw">class</span>(Individual_t117<span class="op">$</span>NIVEL_ED)</code></pre>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(Individual_t117<span class="op">$</span>CH04)</code></pre>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">ggdata &lt;-<span class="st"> </span>Individual_t117 <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(P21<span class="op">&gt;</span><span class="dv">0</span>, <span class="op">!</span><span class="kw">is.na</span>(NIVEL_ED)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">NIVEL_ED =</span> <span class="kw">as.factor</span>(NIVEL_ED),
         <span class="dt">CH04     =</span> <span class="kw">as.factor</span>(CH04))</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(ggdata, <span class="kw">aes</span>(<span class="dt">x =</span> NIVEL_ED, <span class="dt">y =</span> P21)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_boxplot</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">40000</span>))<span class="co">##Restrinjo el gráfico hasta ingresos de $40000</span></code></pre>
<pre><code>## Warning: Removed 209 rows containing non-finite values (stat_boxplot).</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-102-1.png" width="672" /></p>
<p>Si queremos agregar la dimensión <em>sexo</em>, podemos hacer un <code>facet_wrap()</code></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(ggdata, <span class="kw">aes</span>(<span class="dt">x=</span> NIVEL_ED, <span class="dt">y =</span> P21, <span class="dt">group =</span> NIVEL_ED, <span class="dt">fill =</span> NIVEL_ED )) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_boxplot</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">40000</span>))<span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>CH04, <span class="dt">labeller =</span> <span class="st">&quot;label_both&quot;</span>)</code></pre>
<pre><code>## Warning: Removed 209 rows containing non-finite values (stat_boxplot).</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-103-1.png" width="672" /></p>
<p>Por la forma en que está presentado el gráfico, el foco de atención sigue puesto en las diferencias de ingresos entre niveles educativo. Simplemente se agrega un corte por la variable de sexo.</p>
<p>Si lo que queremos hacer es poner el foco de atención en las diferencias por sexo, simplemente basta con invertir la variable x especificada con la variable utilizada en el <code>facet_wrap</code></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(ggdata, <span class="kw">aes</span>(<span class="dt">x=</span> CH04, <span class="dt">y =</span> P21, <span class="dt">group =</span> CH04, <span class="dt">fill =</span> CH04 )) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_boxplot</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">40000</span>))<span class="op">+</span>
<span class="st">  </span><span class="kw">facet_grid</span>(<span class="op">~</span><span class="st"> </span>NIVEL_ED, <span class="dt">labeller =</span> <span class="st">&quot;label_both&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>)</code></pre>
<pre><code>## Warning: Removed 209 rows containing non-finite values (stat_boxplot).</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-104-1.png" width="672" /></p>
</div>
</div>
<div id="histogramas" class="section level4">
<h4><span class="header-section-number">6.3.3.2</span> <a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">Histogramas</a></h4>
<p>Otra forma de mostrar la distribución de una variable es utilizar un histograma. Este tipo de gráficos agrupa las observaciones en <strong>bins</strong>: intervalos dentro del rango de la variable. Luego cuenta la cantidad de observaciones que caen dentro de cada uno de estos bins.</p>
<p>Por ejemplo, si observamos el ingreso de la ocupación principal:</p>
<pre class="sourceCode r"><code class="sourceCode r">hist_data &lt;-Individual_t117 <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(P21<span class="op">&gt;</span><span class="dv">0</span>) 

<span class="kw">ggplot</span>(hist_data, <span class="kw">aes</span>(<span class="dt">x =</span> P21,<span class="dt">weights =</span> PONDIIO))<span class="op">+</span><span class="st"> </span>
<span class="kw">geom_histogram</span>()<span class="op">+</span>
<span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">50000</span>))</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-105-1.png" width="672" /></p>
<p>En este gráfico, los posibles valores de p21 se dividen en 30 <strong>bins</strong> consecutivos y el gráfico muestra cuantas observaciones caen en cada uno de ellos</p>
</div>
<div id="kernels" class="section level4">
<h4><span class="header-section-number">6.3.3.3</span> <a href="https://plot.ly/ggplot2/geom_density/">Kernels</a></h4>
<p>La función <code>geom_density()</code> nos permite construir <strong>kernels</strong> de la distribución. Esto es, un suavizado sobre los histogramas que se basa en alguna distribución supuesta dentro de cada bin. Es particularmente útil cuando tenemos una variable continua, dado que los histogramas rompen esa sensación de continuidad.</p>
<p>Veamos un ejemplo sencillo con los ingresos de la ocupación principal. Luego iremos complejizandolo</p>
<pre class="sourceCode r"><code class="sourceCode r">kernel_data &lt;-Individual_t117 <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(P21<span class="op">&gt;</span><span class="dv">0</span>) 

<span class="kw">ggplot</span>(kernel_data, <span class="kw">aes</span>(<span class="dt">x =</span> P21,<span class="dt">weights =</span> PONDIIO))<span class="op">+</span><span class="st"> </span>
<span class="kw">geom_density</span>()<span class="op">+</span>
<span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">50000</span>))</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-106-1.png" width="672" />
<strong>El eje y no tiene demasiada interpretabilidad en los Kernel, porque hace a la forma en que se construyen las distribuciones</strong>.</p>
<p>El parametro adjust, dentro de la función <code>geom_density</code>nos permite reducir o ampliar el rango de suavizado de la distribución. Su valor por default es 1. Veamos que sucede si lo seteamos en 2</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(kernel_data, <span class="kw">aes</span>(<span class="dt">x =</span> P21,<span class="dt">weights =</span> PONDIIO))<span class="op">+</span><span class="st"> </span>
<span class="kw">geom_density</span>(<span class="dt">adjust =</span> <span class="dv">2</span>)<span class="op">+</span>
<span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">50000</span>))</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-107-1.png" width="672" /></p>
<p>Como es esperable, la distribución del ingreso tiene “picos” en los valores redondos, ya que la gente suele declarar un valor aproximado al ingreso efectivo que percibe. Nadie declara ingresos de 30001. Al suavizar la serie con un kernel, eliminamos ese efecto.Si seteamos el rango para el suavizado en valores menores a 1, podemos observar estos picos.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(kernel_data, <span class="kw">aes</span>(<span class="dt">x =</span> P21,<span class="dt">weights =</span> PONDIIO))<span class="op">+</span><span class="st"> </span>
<span class="kw">geom_density</span>(<span class="dt">adjust =</span> <span class="fl">0.01</span>)<span class="op">+</span>
<span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">50000</span>))</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-108-1.png" width="672" /></p>
<p>Ahora bien, como en todo grafico de R, podemos seguir agregando dimensiones para enriquecer el análisis.</p>
<pre class="sourceCode r"><code class="sourceCode r">kernel_data_<span class="dv">2</span> &lt;-<span class="st"> </span>kernel_data <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">CH04=</span> <span class="kw">case_when</span>(CH04 <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">~</span><span class="st"> &quot;Varon&quot;</span>,
                         CH04 <span class="op">==</span><span class="st"> </span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;Mujer&quot;</span>))
  
<span class="kw">ggplot</span>(kernel_data_<span class="dv">2</span>, <span class="kw">aes</span>(<span class="dt">x =</span> P21,
  <span class="dt">weights =</span> PONDIIO,
  <span class="dt">group =</span> CH04,
  <span class="dt">fill =</span> CH04)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">alpha=</span><span class="fl">0.7</span>,<span class="dt">adjust =</span><span class="dv">2</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Distribución del ingreso&quot;</span>, <span class="dt">y=</span><span class="st">&quot;&quot;</span>,
       <span class="dt">title=</span><span class="st">&quot; Total según tipo de ingreso y sexo&quot;</span>, 
       <span class="dt">caption =</span> <span class="st">&quot;Fuente: Encuesta Permanente de Hogares&quot;</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">50000</span>))<span class="op">+</span>
<span class="st">  </span><span class="kw">theme_tufte</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_fill_gdocs</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,
        <span class="dt">plot.title      =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">12</span>))</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-109-1.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="st">&quot;Resultados/Kernel_1.png&quot;</span>,<span class="dt">scale =</span> <span class="dv">2</span>)</code></pre>
<pre><code>## Saving 14 x 10 in image</code></pre>
<p>Podemos agregar aún la dimensión de ingreso laboral respecto del no laboral</p>
<pre class="sourceCode r"><code class="sourceCode r">kernel_data_<span class="dv">3</span> &lt;-kernel_data_<span class="dv">2</span> <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(REGION,P47T,T_VI, TOT_P12, P21 , PONDII, CH04) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(P47T), P47T <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span> ) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">ingreso_laboral    =</span> TOT_P12 <span class="op">+</span><span class="st"> </span>P21,
         <span class="dt">ingreso_no_laboral =</span> T_VI) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">gather</span>(., <span class="dt">key =</span> Tipo_ingreso, Ingreso, <span class="kw">c</span>((<span class="kw">ncol</span>(.)<span class="op">-</span><span class="dv">1</span>)<span class="op">:</span><span class="kw">ncol</span>(.))) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>( Ingreso <span class="op">!=</span><span class="dv">0</span>)<span class="co">## Para este gráfico, quiero eliminar los ingresos = 0</span>

kernel_data_<span class="dv">3</span>[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>,]</code></pre>
<pre><code>##    REGION  P47T T_VI TOT_P12   P21 PONDII  CH04    Tipo_ingreso Ingreso
## 1      43  1500    0       0  1500   1386 Varon ingreso_laboral    1500
## 2      43  9500    0       0  9500   1130 Mujer ingreso_laboral    9500
## 3      43  8000    0       0  8000   1629 Mujer ingreso_laboral    8000
## 4      43  6000    0       0  6000   1270 Varon ingreso_laboral    6000
## 5      43 21000    0       0 14000   2079 Mujer ingreso_laboral   14000
## 6      43 12000    0       0  9000   1280 Mujer ingreso_laboral    9000
## 7      43 20000    0       0 20000   1167 Varon ingreso_laboral   20000
## 8      43 15000    0       0 15000   1284 Mujer ingreso_laboral   15000
## 9      43 34000    0   10000 24000   1112 Mujer ingreso_laboral   34000
## 10     43 23000    0       0 23000   1162 Varon ingreso_laboral   23000</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">  <span class="kw">ggplot</span>(kernel_data_<span class="dv">3</span>, <span class="kw">aes</span>(
  <span class="dt">x =</span> Ingreso,
  <span class="dt">weights =</span> PONDII,
  <span class="dt">group =</span> Tipo_ingreso,
  <span class="dt">fill =</span> Tipo_ingreso)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">alpha=</span><span class="fl">0.7</span>,<span class="dt">adjust =</span><span class="dv">2</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Distribución del ingreso&quot;</span>, <span class="dt">y=</span><span class="st">&quot;&quot;</span>,
       <span class="dt">title=</span><span class="st">&quot; Total según tipo de ingreso y sexo&quot;</span>, 
       <span class="dt">caption =</span> <span class="st">&quot;Fuente: Encuesta Permanente de Hogares&quot;</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">50000</span>))<span class="op">+</span>
<span class="st">  </span><span class="kw">theme_tufte</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_fill_gdocs</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,
        <span class="dt">plot.title      =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">12</span>))<span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>CH04, <span class="dt">scales =</span> <span class="st">&quot;free&quot;</span>)</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-111-1.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="st">&quot;Resultados/Kernel_2.png&quot;</span>,<span class="dt">scale =</span> <span class="dv">2</span>)</code></pre>
<pre><code>## Saving 14 x 10 in image</code></pre>
<p>En este tipo de gráficos, importa mucho qué variable se utiliza para <em>facetear</em> y qué variable para agrupar, ya que la construcción de la distribución es diferente.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(kernel_data_<span class="dv">3</span>, <span class="kw">aes</span>(
  <span class="dt">x =</span> Ingreso,
  <span class="dt">weights =</span> PONDII,
  <span class="dt">group =</span> CH04,
  <span class="dt">fill =</span> CH04)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">alpha=</span><span class="fl">0.7</span>,<span class="dt">adjust =</span><span class="dv">2</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Distribución del ingreso&quot;</span>, <span class="dt">y=</span><span class="st">&quot;&quot;</span>,
       <span class="dt">title=</span><span class="st">&quot; Total según tipo de ingreso y sexo&quot;</span>, 
       <span class="dt">caption =</span> <span class="st">&quot;Fuente: Encuesta Permanente de Hogares&quot;</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">50000</span>))<span class="op">+</span>
<span class="st">  </span><span class="kw">theme_tufte</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_fill_gdocs</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,
        <span class="dt">plot.title      =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">12</span>))<span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>Tipo_ingreso, <span class="dt">scales =</span> <span class="st">&quot;free&quot;</span>)</code></pre>
<p><img src="R_EPH_bookdown_files/figure-html/unnamed-chunk-112-1.png" width="672" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="st">&quot;Resultados/Kernel_3.png&quot;</span>,<span class="dt">scale =</span> <span class="dv">2</span>)</code></pre>
<pre><code>## Saving 14 x 10 in image</code></pre>
</div>
</div>
</div>
<div id="ejercicios" class="section level2">
<h2><span class="header-section-number">6.4</span> Ejercicios</h2>
<div id="para-practicar" class="section level3">
<h3><span class="header-section-number">6.4.1</span> Para practicar</h3>
<ul>
<li><p>Calcular el promedio del ingreso por ocupación principal (Variable <strong>P21</strong>) para <strong>asalariados</strong> con y sin <strong>descuento jubilatorio</strong> (Variable <strong>PP07H</strong>). Luego realizar un gráfico de barras donde se comparen ambos valores (para el 1er trimestre de 2017).<br />
Pistas: Se deben filtrar previamente los ingresos mayores a 0 (<strong>P21&gt;0</strong>).Chequear que ponderador corresponde utilizar</p></li>
<li><p>Graficar la distribución del ingreso por ocupación principal para Asalariados, Cuentapropistas y Patrones, con el tipo de gráfico Kernel<br />
Pista: Usar la función <strong>facet_wrap</strong> para separar a cada una de las categorías ocupacionales)<br />
Sugerencia: incorporar la línea <code>scale_x_continuous(limits = c(0,50000))</code> entre las capas del gráfico. ¿Qué cambió?</p></li>
</ul>
</div>
<div id="de-tarea" class="section level3">
<h3><span class="header-section-number">6.4.2</span> De tarea</h3>
<ul>
<li><p>Hacer un gráfico boxplot de la distribución de edades de los asalariados con descuento jubilatorio, y de los asalariados sin descuento jubilatorio.</p></li>
<li><p>Uniendo las bases de los distintos trimestres, calcular el procentaje de asalariados sin descuento jubilatorio como <span class="math inline">\(\frac{Asal. s/ desc jubil}{Asal. c/ desc jubil+ Asal.s/ desc jubil}\)</span>. Luego realizar un gráfico de linea con la evolución de este indicador</p></li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="calculo-de-pobreza-por-linea.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="pool-de-datos-en-panel-y-matrices-de-transicion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
